# vim常用操作
一共分为三种模式**一般模式**、**编辑模式**和**指令模式**。


## 保存和退出vim

- `:wq`或`:x` 存盘退出
- `:w` 保存
- `:q` 退出
- `:q!` 强制退出不保存

## 光标移动

- `h``j``k``l`可以作为光标使用←↓↑→
- `0`数字零，到行头
- `$` 到本行行尾
- `Ctrl+f`屏幕向下移动一页
- `Ctrl+b`屏幕向上移动一页
- `G`移动到最后一行
- `gg`移动到第一行
- `ng`n为数字，指移动到指定行
- `n<Enter>`n为数字。光标下移n行。
- `^` 到本行第一个不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等）
- `g_` 到本行最后一个不是blank字符的位置。

## 搜索

- `/pattern` 向后搜索 pattern 的字符串（陈皓注：如果搜索出多个匹配，可按n键到下一个）
- `?pattern` 向前搜索 pattern 的字符串
- `:n1,n2s/word1/word2/g`n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2
- `:1,$s/word1/word2/g`从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 
- `:1,$s/word1/word2/g`从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2，并确认

## 删除、复制

- `x`向后删除一个字符，`X`向前删除一个字符
- `dd`删除游标所在的一整列
- `ndd`n为数字，删除光标所在向下n列
- `yy`复制游标所在的那一行
- `nyy`n为数字，复制光标所在处向下n行
- `p`将已经赋值内容在光标下一行黏贴，`P`将已赋值内容在光标上一行黏贴
- `u`复原前一个动作
- `Ctrl+r`重做上一个动作
- `.`重复前一个动作

## 帮助

- `:help <command>` 显示相关命令的帮助。你也可以就输入`:help`而不跟命令。（陈皓注：退出帮助需要输入`:q`）

## 各种插入模式

- `i` 在光标处插入
- `a` 在光标后插入
- `o` 在当前行后插入一个新行
- `O` 在当前行前插入一个新行
- `cw` 替换从光标所在位置后到一个单词结尾的字符
- `r` 进入取代模式
- `ESC` 退回到一般模式

## 其他

- `:sq` 可以分割窗口
- vim环境设定可以写入在~/.vimrc中
- `:e!`还原档案原始状态
